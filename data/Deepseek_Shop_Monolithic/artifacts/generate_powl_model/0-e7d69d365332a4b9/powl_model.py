gen = ModelGenerator()
authentication = gen.activity('Authenticate customer')
product_selection = gen.activity('Select items')
payment = gen.activity('Process payment')
reward_selection = gen.xor(gen.activity('Select reward'), None)
delivery = gen.activity('Deliver items')
return_exchange = gen.activity('Process return/exchange')
loop_delivery = gen.loop(do=delivery, redo=return_exchange)
final_model = gen.partial_order(dependencies=[(authentication, product_selection), (product_selection, payment), (payment, reward_selection), (reward_selection, loop_delivery)])